{{#import "system"}}
  {{set-title "Jeux vidéo %s : les meilleurs et plus mauvais jeux %1$s" system.name}}
  {{set-megamenu "system"}}
  {{> header}}
{{/import}}

<main>
  <form class="form-inline text-center" role="form" data-target="games">
    <div class="form-group form-group-unifield">
      <div class="form-group">
        <label class="control-label">Je cherche</label>
      </div>
      <div class="form-group">
        <label class="control-label" for="rating-selector">un jeu vidéo {{system.name}}</label>
        <select name="rating" id="rating-selector">
          <option value="" selected>un jeu vidéo {{system.name}}</option>
          <option value="4" data-operator=">">un excellent jeu vidéo {{system.name}}</option>
          <option value="2.5" data-operator=">">un bon jeu vidéo {{system.name}}</option>
          <option value="2.4" data-operator="<">un jeu vidéo {{system.name}} pas terrible</option>
          <option value="1.9" data-operator="<">un fond de tiroir sur {{system.name}}</option>
        </select>
      </div>
      <div class="form-group">
        <label class="control-label" for="year-operator">sorti à tout moment</label>
        <select name="year-operator" id="year-operator">
          <option value="" selected>sorti à tout moment</option>
          <option value="<">sorti avant</option>
          <option value="=">sorti en</option>
          <option value=">">sorti après</option>
        </select>
      </div>
      <div class="form-group">
        <input type="number" name="year" data-visible-if="year-operator" class="form-control hidden" placeholder="1337" min="1970" max="2013">
      </div>
      <div class="form-group">
        <label class="control-label" for="players-selector">pour tout nombre de joueurs</label>
        <select name="players" id="players-selector" class="form-control">
          <option value="" selected>pour tout nombre de joueurs</option>
          <option value="1">pour 1 joueur</option>
          <option value="2">pour 2 joueurs</option>
          <option value="2" data-operator=">">pour plus de 2 joueurs</option>
        </select>
      </div>
    </div><div class="form-group btn-group">
    <button class="btn btn-primary" type="button">Actualiser</button>
    <button class="btn btn-default" type="reset">Recommencer</button>
  </div>
  </form>

  <h2>Jeux vidéo {{system.name}}</h2>

  <div class="table-responsive">
    <table class="table table-striped table-hover table-sortable">
      <thead>
        <tr>
          <th>Santé</th>
          <th>Titre</th>
          <th>Genres</th>
          <th>Année</th>
          <th>Joueurs</th>
        </tr>
      </thead>
      <tbody data-sorter="games">
      {{#system_games system}}
        <tr data-year="{{this.released}}" data-genre="{{this.genres}}" data-rating="{{this.rating}}" data-players="{{this.players}}">
          <td data-value="{{this.rating}}">{{{stars this.rating}}}</td>
          <th><a href="./{{slug}}/">{{this.title}}</a></th>
          <td>{{inline this.genres}}</td>
          <td>{{this.released}}</td>
          <td class="text-center">{{default this.players "N/C"}}</td>
        </tr>
      {{else}}
        <tr>
          <td colspan="3">Aucun jeu pour le moment.</td>
        </tr>
      {{/system_games}}
      </tbody>
    </table>
  </div>
</main>

{{> footer}}
